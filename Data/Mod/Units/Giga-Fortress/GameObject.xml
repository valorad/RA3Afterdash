<?xml version="1.0" encoding="us-ascii"?>
<AssetDeclaration xmlns="uri:ea.com:eala:asset" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xai="uri:ea.com:eala:asset:instance" xmlns:xi="http://www.w3.org/2001/XInclude">
	<Includes>
		<Include type="instance" source="DATA:SageXml/BaseObjects/BaseCollapsingObject.xml" />
		<Include type="instance" source="DATA:SageXml/BaseObjects/BaseProjectile.xml" />
		<Include type="instance" source="DATA:SageXml/BaseObjects/BaseVehicle.xml" />
	</Includes>
	
	<GameObject
		id="JapanFortressShip"
		inheritFrom="BaseVehicle" 
		SelectPortrait="Portrait_JapanGigaFortressShip"
		SelectPortraitTransformed="Portrait_JapanGigaFortressHead"
		ButtonImage="Button_JapanGigaFortressShip"
		ButtonImageTransformed="Button_JapanGigaFortressHead"
		Side="Japan"
		EditorSorting="UNIT"
		SubGroupPriority="235"
		TransportSlotCount="100"
		BuildTime="20"
		CommandSet="JapanFortressShipCommandSet"
		KindOf="SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS SCORE VEHICLE CAN_NOT_BUILD_ON_LAND CAN_BUILD_ON_DEEP_WATER TRANSFORMER"
		RadarPriority="UNIT"
		PlacementViewAngle="315d"
		Description="Desc:JapanFortressShip"
		DescriptionTransformed="Desc:JapanFortressShip_Air"
		TypeDescription="Type:JapanFortressShip"
		TypeDescriptionTransformed="Type:JapanFortressShip_Air"
		EditorName="JapanFortressShip"
		UnitIntro="Japan_GigaFortress_UnitIntro"
		HealthBoxHeightOffset="50">
		<DisplayName
			xai:joinAction="Replace" xmlns:xai="uri:ea.com:eala:asset:instance">Name:JapanFortressShip</DisplayName>
		<DisplayNameTransformed
			xai:joinAction="Replace" xmlns:xai="uri:ea.com:eala:asset:instance">Name:JapanFortressShip_Air</DisplayNameTransformed>
		<GameDependency>
			<RequiredObject>JapanTechStructure</RequiredObject>
			<NeededUpgrade>Upgrade_JapanNavalYardTech3</NeededUpgrade>
		</GameDependency>		
		<ObjectResourceInfo>
			<BuildCost Account="0" Amount="6300"/>
		</ObjectResourceInfo>
		<ArmorSet
			Armor="JapanFortressShipArmor"
			DamageFX="VehicleDamageFX" />
		<LocomotorSet
			Locomotor="JapanFortressShipWaterLocomotor"
			Condition="NORMAL"
			Speed="40.0" />		
		<LocomotorSet
			Locomotor="JapanFortressShipAirborneLocomotor"
			Condition="SUPERSONIC"
			Speed="30.0" />
		<SkirmishAIInformation
			UnitBuilderStandardCombatUnit="true"
			ConquerMetricsOverrideDPS="300"
			ConquerMetricsOverrideDamageType="EXPLOSIVE"
			ConquerMetricsOverrideAntiMask="ANTI_WATER ANTI_GROUND ANTI_STRUCTURE ANTI_AIRBORNE_VEHICLE ANTI_AIRBORNE_INFANTRY"
			CanFireUpCliffs="true"/>
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw"
				OkToChangeModelColor="true"
				InitialRecoilSpeed="0.5"
				MaxRecoilDistance="6.0"
				RecoilDamping="5.0"
				RecoilSettleSpeed="3.0"
				ExtraPublicBone="FX_Weapon_GunA_01 FX_Weapon_GunA_02 FX_Weapon_GunB_01 FX_Weapon_GunB_02 FX_Weapon_GunC_01 FX_Weapon_GunC_02 FX_Weapon_GunD_01 FX_Weapon_GunD_02 FX_WeaponLaser Turret_GunA Turret_Pitch_GunA Turret_GunB Turret_Pitch_GunB Turret_GunC Turret_Pitch_GunC Turret_GunD Turret_Pitch_GunD FX_Weapon_RocketA FX_Weapon_RocketB FX_Weapon_RocketC FX_Weapon_RocketD PointDefenseDroneAttach">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT"
					RetainSubObjects="true">
					<Model
						Name="JUFortressShip_SKN" />
					
					<WeaponFireFXBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunA_" />
					<WeaponLaunchBone
						WeaponSlotID="1"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunA_" />
					<Turret
						TurretNameKey="Turret_GunA"
						TurretPitch="Turret_Pitch_GunA"
						TurretID="1" />
						
					<WeaponFireFXBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunB_" />
					<WeaponLaunchBone
						WeaponSlotID="2"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunB_" />
					<Turret
						TurretNameKey="Turret_GunB"
						TurretPitch="Turret_Pitch_GunB"
						TurretID="2" />
						
					<WeaponFireFXBone
						WeaponSlotID="3"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunC_" />
					<WeaponLaunchBone
						WeaponSlotID="3"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunC_" />
					<Turret
						TurretNameKey="Turret_GunC"
						TurretPitch="Turret_Pitch_GunC"
						TurretID="3" />
						
					<WeaponFireFXBone
						WeaponSlotID="4"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunD_" />
					<WeaponLaunchBone
						WeaponSlotID="4"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_GunD_" />
					<Turret
						TurretNameKey="Turret_GunD"
						TurretPitch="Turret_Pitch_GunD"
						TurretID="4" />	

					<WeaponFireFXBone
						WeaponSlotID="5"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketA" />
					<WeaponLaunchBone
						WeaponSlotID="5"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketA" />	

					<WeaponFireFXBone
						WeaponSlotID="6"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketB" />
					<WeaponLaunchBone
						WeaponSlotID="6"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketB" />	

					<WeaponFireFXBone
						WeaponSlotID="7"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketC" />
					<WeaponLaunchBone
						WeaponSlotID="7"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketC" />	

					<WeaponFireFXBone
						WeaponSlotID="8"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketD" />
					<WeaponLaunchBone
						WeaponSlotID="8"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_Weapon_RocketD" />	

					<WeaponFireFXBone
						WeaponSlotID="8"
						WeaponSlotType="SECONDARY_WEAPON"
						BoneName="FX_WeaponLaser" />
					<WeaponLaunchBone
						WeaponSlotID="8"
						WeaponSlotType="SECONDARY_WEAPON"
						BoneName="FX_WeaponLaser" />

					<WeaponFireFXBone
						WeaponSlotID="9"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_WeaponLaser" />
					<WeaponLaunchBone
						WeaponSlotID="9"
						WeaponSlotType="PRIMARY_WEAPON"
						BoneName="FX_WeaponLaser" />
					<Turret
						TurretNameKey="Turret"
						TurretPitch="Turret_Pitch"
						TurretID="9" />
				</ModelConditionState>

        <ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="STRUCTURE_UNPACKING">
          <Model
						Name="JUFortressShip_SKN" />
          <Material ShaderName="BasicW3DHolographic.fx" TechniqueName="Default">
            <Constants>
              <Float Name="ColorAmbient">
                <Value>0.000000</Value>
                <Value>0.000000</Value>
                <Value>0.000000</Value>
              </Float>
              <Float Name="ColorDiffuse">
                <Value>0.000000</Value>
                <Value>0.000000</Value>
                <Value>0.000000</Value>
              </Float>
              <Float Name="ColorSpecular">
                <Value>0.000000</Value>
                <Value>0.000000</Value>
                <Value>0.000000</Value>
              </Float>
              <Float Name="Shininess">
                <Value>0.000000</Value>
              </Float>
              <Float Name="ColorEmissive">
                <Value>1.000000</Value>
                <Value>1.000000</Value>
                <Value>1.000000</Value>
              </Float>
              <Texture Name="Texture_0">
                <Value>FXJapanBuildMask</Value>
              </Texture>
              <Bool Name="DepthWriteEnable">
                <Value>false</Value>
              </Bool>
              <Bool Name="AlphaTestEnable">
                <Value>false</Value>
              </Bool>
              <Bool Name="CullingEnable">
                <Value>true</Value>
              </Bool>
              <Int Name="BlendMode">
                <Value>1</Value>
              </Int>
            </Constants>
          </Material>
        </ModelConditionState>
        
        <ModelConditionState
          ParseCondStateType="PARSE_NORMAL"
          ConditionsYes="FORMATION_PREVIEW USER_1">
          <Model
            Name="JUFortressShipHead_FP" />
        </ModelConditionState>

        <ModelConditionState
          ParseCondStateType="PARSE_NORMAL"
          ConditionsYes="USER_1 USER_3 REALLYDAMAGED">
          <Model
						Name="JUFortressShip_TRANS" />
					<ParticleSysBone
            BoneName="FX_Ship_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>



					<ParticleSysBone
            BoneName="FX_Head_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
        </ModelConditionState>
        <ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_3 REALLYDAMAGED">
          <Model
						Name="JUFortressShip_TRANS" />
					<ParticleSysBone
            BoneName="FX_Ship_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>


					<ParticleSysBone
            BoneName="FX_Head_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
        </ModelConditionState>
        <ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1 REALLYDAMAGED">
          <Model
						Name="JUFortressShipHead_SKN" />
					<ParticleSysBone
            BoneName="FX_Head_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />          
        </ModelConditionState>

        <ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="REALLYDAMAGED">
          <Model
						Name="JUFortressShip_SKN" />
					<ParticleSysBone
            BoneName="FX_Ship_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
        </ModelConditionState>

        <ModelConditionState
          ParseCondStateType="PARSE_NORMAL"
          ConditionsYes="USER_1 USER_3 DAMAGED">
					<Model
						Name="JUFortressShip_TRANS" />
					<ParticleSysBone
            BoneName="FX_Ship_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>


					<ParticleSysBone
            BoneName="FX_Head_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
				</ModelConditionState>
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_3 DAMAGED">
					<Model
						Name="JUFortressShip_TRANS" />
					<ParticleSysBone
            BoneName="FX_Ship_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>



					<ParticleSysBone
            BoneName="FX_Head_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
				</ModelConditionState>
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1 DAMAGED">
					<Model
						Name="JUFortressShipHead_SKN" />
					<ParticleSysBone
            BoneName="FX_Head_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Head_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Head_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
				</ModelConditionState>

				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="DAMAGED">
					<Model
						Name="JUFortressShip_SKN" />
					<ParticleSysBone
            BoneName="FX_Ship_Fire01"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire02"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire03"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire03"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
					<ParticleSysBone
            BoneName="FX_Ship_Fire04"
            FXParticleSystemTemplate="JapanVehicleDamagedSparks"
            FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"/>
					<ParticleSysBone
						BoneName="FX_Ship_Fire04"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"/>
				</ModelConditionState>
        
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1 USER_3">
					<Model
						Name="JUFortressShip_TRANS" />
				</ModelConditionState>				
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_3">
					<Model
						Name="JUFortressShip_TRANS" />
				</ModelConditionState>				
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1">
					<Model
						Name="JUFortressShipHead_SKN" />
				</ModelConditionState>
				
				<AnimationState
					ParseCondStateType="PARSE_DEFAULT"
					StateName="STATE_onWater">
					<Animation
						AnimationName="JUFortressShip_IDLA"
						AnimationMode="LOOP"/>
			        <Script>
			            CurDrawableHideSubObjectPermanently("FX_JetGlow01")
			            CurDrawableHideSubObjectPermanently("FX_JetGlow02")
			            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
			        </Script>
					<ParticleSysBone
						BoneName="None"
						FXParticleSystemTemplate="JapanFortressWake"/>													
				</AnimationState>
        <AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="STRUCTURE_UNPACKING">
          <Animation
						AnimationName="JUFortressShip_BLD2"
						AnimationMode="MATCH_UNPACKING"
						AnimationBlendTime="0" />
          <Script>
            CurDrawableHideSubObjectPermanently("FX_JetGlow01")
            CurDrawableHideSubObjectPermanently("FX_JetGlow02")
            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
          </Script>
        </AnimationState>
      
<!-- changing from ground to air -->
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1 USER_3">
					<Animation
						AnimationName="JUFortressShip_TRANS"
						AnimationMode="ONCE"
						AnimationAbsoluteTime="4s"/>
          <Script>
            CurDrawableShowSubObjectPermanently("FX_JetGlow01")
            CurDrawableShowSubObjectPermanently("FX_JetGlow02")
            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
          </Script>
          <ParticleSysBone
						BoneName="Bone_JFS_Pod1"
						FXParticleSystemTemplate="JapanFortressTrans_Water"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod2"
						FXParticleSystemTemplate="JapanFortressTrans_Water"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod3"
						FXParticleSystemTemplate="JapanFortressTrans_Water"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod4"
						FXParticleSystemTemplate="JapanFortressTrans_Water"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod5"
						FXParticleSystemTemplate="JapanFortressTrans_Water"
						FollowBone="true" />

          <ParticleSysBone
						BoneName="FX_JetGlow01"
						FXParticleSystemTemplate="JapanFortressTrans_Water04"
						FollowBone="false" />
          <ParticleSysBone
						BoneName="FX_JetGlow02"
						FXParticleSystemTemplate="JapanFortressTrans_Water04"
						FollowBone="false" />
          
				</AnimationState>
<!-- changing from air to ground -->
				<AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_3"
					Flags="START_FRAME_LAST"
   				StateName="STATE_AirToGround">
          <Animation
						AnimationName="JUFortressShip_TRANS"
						AnimationMode="ONCE_BACKWARDS"
						AnimationAbsoluteTime="4s"/>
          <ParticleSysBone
						BoneName="Bone_JFS_Pod1"
						FXParticleSystemTemplate="JapanFortressTrans_Water03"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod2"
						FXParticleSystemTemplate="JapanFortressTrans_Water03"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod3"
						FXParticleSystemTemplate="JapanFortressTrans_Water03"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod4"
						FXParticleSystemTemplate="JapanFortressTrans_Water03"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod5"
						FXParticleSystemTemplate="JapanFortressTrans_Water03"
						FollowBone="true" />

          <ParticleSysBone
						BoneName="Bone_JFS_Pod1"
						FXParticleSystemTemplate="JapanFortressTrans_Water02"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod2"
						FXParticleSystemTemplate="JapanFortressTrans_Water02"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod3"
						FXParticleSystemTemplate="JapanFortressTrans_Water02"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod4"
						FXParticleSystemTemplate="JapanFortressTrans_Water02"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod5"
						FXParticleSystemTemplate="JapanFortressTrans_Water02"
						FollowBone="true" />

          <ParticleSysBone
						BoneName="Bone_JFS_Pod1"
						FXParticleSystemTemplate="JapanFortressTrans_Wake"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod2"
						FXParticleSystemTemplate="JapanFortressTrans_Wake"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod3"
						FXParticleSystemTemplate="JapanFortressTrans_Wake"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod4"
						FXParticleSystemTemplate="JapanFortressTrans_Wake"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="Bone_JFS_Pod5"
						FXParticleSystemTemplate="JapanFortressTrans_Wake"
						FollowBone="true" />
          <Script>
            CurDrawableShowSubObjectPermanently("FX_JetGlow01")
            CurDrawableShowSubObjectPermanently("FX_JetGlow02")
            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
          </Script>
				</AnimationState>
        <AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1 MOVING"
					StateName="STATE_inAir">
          <Animation
           AnimationName="JUFortressShipHead_IDLA"
           AnimationMode="LOOP"/>
          <Script>
            CurDrawableShowSubObjectPermanently("FX_JetGlow01")
            CurDrawableShowSubObjectPermanently("FX_JetGlow02")
            CurDrawableShowSubObjectPermanently("FX_JetGlow03")
          </Script>
        </AnimationState>
        
        <AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="USER_1"
					StateName="STATE_inAir">
          <Animation
           AnimationName="JUFortressShipHead_IDLA"
           AnimationMode="LOOP"/>          
          <Script>
            CurDrawableShowSubObjectPermanently("FX_JetGlow01")
            CurDrawableShowSubObjectPermanently("FX_JetGlow02")
            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
          </Script>
				</AnimationState>
        
        <AnimationState
					ParseCondStateType="PARSE_NORMAL"
          ConditionsYes="MOVING"
					StateName="STATE_onWater">
          <Animation
						AnimationName="JUFortressShip_IDLA"
            AnimationMode="LOOP"/>
          <Script>
            CurDrawableHideSubObjectPermanently("FX_JetGlow01")
            CurDrawableHideSubObjectPermanently("FX_JetGlow02")
            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
          </Script>
          <ParticleSysBone
						BoneName="None"
						FXParticleSystemTemplate="JapanFortressWake"/>
          <ParticleSysBone
						BoneName="None"
						FXParticleSystemTemplate="JapanFortressWaterMist"/>
        </AnimationState>
      </ScriptedModelDraw>

<!-- DRAW BUILD UP -->

      <ScriptedModelDraw
				id="ModuleTag_Draw_Buildup"
				OkToChangeModelColor="true">
        <ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="" />
        </ModelConditionState>
        <ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="STRUCTURE_UNPACKING">
          <Model
						Name="JUFortressShip_SKN" />
          <Material ShaderName="BuildingsJapanBuildup.fx" TechniqueName="Default">
            <Constants>
              <Texture Name="DiffuseTexture">
                <Value>JUFortressShip</Value>
              </Texture>
              <Texture Name="NormalMap">
                <Value>JUFortressShip_NRM</Value>
              </Texture>
              <Texture Name="SpecMap">
                <Value>JUFortressShip_SPM</Value>
              </Texture>
              <Float Name="EnvMult">
                <Value>1.000000</Value>
              </Float>
              <Bool Name="AlphaTestEnable">
                <Value>true</Value>
              </Bool>
            </Constants>
          </Material>
        </ModelConditionState>
        <AnimationState
					ParseCondStateType="PARSE_DEFAULT">
        </AnimationState>
        <AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="STRUCTURE_UNPACKING">
          <Animation
						AnimationName="JUFortressShip_BLD"
						AnimationMode="MATCH_UNPACKING"
						AnimationBlendTime="0" />
          <Script>
            CurDrawableHideSubObjectPermanently("FX_JetGlow01")
            CurDrawableHideSubObjectPermanently("FX_JetGlow02")
            CurDrawableHideSubObjectPermanently("FX_JetGlow03")
          </Script>
        </AnimationState>
      </ScriptedModelDraw>

<!-- draw for Egg unpacking -->
      <ScriptedModelDraw
      id="ModuleTag_Draw_Egg"
      OkToChangeModelColor="true"
      StaticModelLODMode="true">
        <ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="" />
        </ModelConditionState>
        <ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="STRUCTURE_UNPACKING">
          <Model
						Name="JUEgg_Unpack" />
        </ModelConditionState>
        <AnimationState
					ParseCondStateType="PARSE_DEFAULT">
        </AnimationState>
        <AnimationState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="STRUCTURE_UNPACKING">
          <Animation
						AnimationName="JUEgg_Unpack"
						AnimationMode="MATCH_UNPACKING" />
        </AnimationState>
      </ScriptedModelDraw>
      
			<!-- The Flying Laser Weapon -->
			<LaserDraw
				id="ModuleTag_LaserDraw"
				Texture1_UTile="1"
				Texture1_VTile="1"
				Texture1_UScrollRate="0"
				Texture1_VScrollRate="1"
				Texture1_NumFrames="1"
				Texture1_FrameRate="30"
				Texture2_UTile="0.01"
				Texture2_VTile="1"
				Texture2_UScrollRate="0.8"
				Texture2_VScrollRate="0"
				Texture2_NumFrames="1"
				Texture2_FrameRate="30"
        FadeInTime="0.0s"
				FadeOutTime="0.0s"
				LaserWidth="30"
				LaserStateID="101">
				<FXShader
					ShaderName="Laser.fx"
					TechniqueIndex="0">
					<Constants>
						<Texture
							Name="Texture1">
							<Value>FXLaserStandard</Value>
						</Texture>
						<Texture
							Name="Texture2">
							<Value>FXJapanPearlLaser02</Value>
						</Texture>
						<Float Name="ColorEmissive">
							<Value>2.500000</Value>
							<Value>2.500000</Value>
							<Value>4.000000</Value>
						</Float>
					</Constants>
				</FXShader>
				<ObjectStatusValidation
					RequiredStatus="TRANSFORMATION_TOGGLE_STATE"
					ForbiddenStatus="WEAPON_UPGRADED_01"/>
			</LaserDraw>
			
			<LaserDraw
			id="ModuleTag_LaserDrawVeteran"
			Texture1_UTile="1"
			Texture1_VTile="1"
			Texture1_UScrollRate="0"
			Texture1_VScrollRate="1"
			Texture1_NumFrames="1"
			Texture1_FrameRate="30"
			Texture2_UTile="0.01"
			Texture2_VTile="1"
			Texture2_UScrollRate="0.8"
			Texture2_VScrollRate="0"
			Texture2_NumFrames="1"
			Texture2_FrameRate="30"
			FadeInTime="0.0s"
			FadeOutTime="0.0s"
			LaserWidth="30"
			LaserStateID="102">
				<FXShader
					ShaderName="Laser.fx"
					TechniqueIndex="0">
					<Constants>
						<Texture
							Name="Texture1">
							<Value>FXLaserStandard</Value>
						</Texture>
						<Texture
							Name="Texture2">
							<Value>FXJapanPearlLaser02</Value>
						</Texture>
						<Float Name="ColorEmissive">
							<Value>7.500000</Value>
							<Value>1.500000</Value>
							<Value>4.000000</Value>
						</Float>
					</Constants>
				</FXShader>
				<ObjectStatusValidation
					RequiredStatus="TRANSFORMATION_TOGGLE_STATE WEAPON_UPGRADED_01" />
			</LaserDraw>
		</Draws>
		<Behaviors>
			<WeaponSetUpdate
				id="ModuleTag_WeaponSetUpdate">
				<WeaponSlotTurret
					ID="1">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipCannonWeapon"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="90%"
						TurretPitchRate="20"
						NaturalTurretAngle="45d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.4s"/>
					</TurretSettings>
				</WeaponSlotTurret>
				<WeaponSlotTurret
					ID="2">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipCannonWeapon"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="90%"
						TurretPitchRate="20"
						NaturalTurretAngle="135d"
						RecenterWhenOutOfTurnRange="false">						
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.4s"/>
					</TurretSettings>
				</WeaponSlotTurret>
				<WeaponSlotTurret
					ID="3">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipCannonWeapon"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="90%"
						TurretPitchRate="20"
						NaturalTurretAngle="225d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.4s"/>
					</TurretSettings>
				</WeaponSlotTurret>
				<WeaponSlotTurret
					ID="4">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipCannonWeapon"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="90%"
						TurretPitchRate="20"
						NaturalTurretAngle="315d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.4s"/>
					</TurretSettings>
				</WeaponSlotTurret>
				<WeaponSlotTurret
					ID="5"
					AllowInterleavedFiring="false"
					InterleavedStyle="INTERLEAVE_FIRST_AVAILABLE"
					WeaponChoiceCriteria="PREFER_MOST_DAMAGE">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="50%"
						TurretPitchRate="360"
						NaturalTurretAngle="45d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.0s">
							<ObjectVisionRange
					            id="ObjectVisionRange_Aircraft"
					            Range="100">
                                <Filter
                                    Rule="ANY"
                                    Include="INFANTRY VEHICLE AIRCRAFT"
                                    StatusBitFlags="AIRBORNE_TARGET"/>
                            </ObjectVisionRange>							
						</TurretAITargetChooserData>
					</TurretSettings>
				</WeaponSlotTurret>	
				<WeaponSlotTurret
					ID="6"
					AllowInterleavedFiring="false"
					InterleavedStyle="INTERLEAVE_FIRST_AVAILABLE"
					WeaponChoiceCriteria="PREFER_MOST_DAMAGE">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="50%"
						TurretPitchRate="360"
						NaturalTurretAngle="135d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.0s">
							<ObjectVisionRange
					            id="ObjectVisionRange_Aircraft"
					            Range="100">
                                <Filter
                                    Rule="ANY"
                                    Include="INFANTRY VEHICLE AIRCRAFT"
                                    StatusBitFlags="AIRBORNE_TARGET"/>
                            </ObjectVisionRange>							
						</TurretAITargetChooserData>
					</TurretSettings>
				</WeaponSlotTurret>	
				<WeaponSlotTurret
					ID="7"
					AllowInterleavedFiring="false"
					InterleavedStyle="INTERLEAVE_FIRST_AVAILABLE"
					WeaponChoiceCriteria="PREFER_MOST_DAMAGE">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="50%"
						TurretPitchRate="360"
						NaturalTurretAngle="225d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.0s">
							<ObjectVisionRange
					            id="ObjectVisionRange_Aircraft"
					            Range="100">
                                <Filter
                                    Rule="ANY"
                                    Include="INFANTRY VEHICLE AIRCRAFT"
                                    StatusBitFlags="AIRBORNE_TARGET"/>
                            </ObjectVisionRange>							
						</TurretAITargetChooserData>
					</TurretSettings>
				</WeaponSlotTurret>	
				<WeaponSlotTurret
					ID="8"
					AllowInterleavedFiring="false"
					InterleavedStyle="INTERLEAVE_FIRST_AVAILABLE"
					WeaponChoiceCriteria="PREFER_MOST_DAMAGE">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE ADVANCED_MISSILE_PACKS"/>
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipMissilePods_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<Weapon
						Ordering="SECONDARY_WEAPON"
						Template="JapanFortressShipMissilePods_Aircraft_JapanAdvancedMissilePack"
						ObjectStatus="ADVANCED_MISSILE_PACKS"
						ForbiddenObjectStatus="TRANSFORMATION_TOGGLE_STATE"/>
					<TurretSettings
						MaxDeflectionClockwise="90d"
						MaxDeflectionAntiClockwise="90d"
						TurretTurnRate="360"
						MinIdleScanTime="1.0s"
						MaxIdleScanTime="5.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="90.0"
						AllowsPitch="true"
						MinimumPitch="0d"
						PitchHeight="50%"
						TurretPitchRate="360"
						NaturalTurretAngle="315d"
						RecenterWhenOutOfTurnRange="false">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="true"
							IdleScanDelay="0.0s">
							<ObjectVisionRange
					            id="ObjectVisionRange_Aircraft"
					            Range="100">
                                <Filter
                                    Rule="ANY"
                                    Include="INFANTRY VEHICLE AIRCRAFT"
                                    StatusBitFlags="AIRBORNE_TARGET"/>
                            </ObjectVisionRange>
                          </TurretAITargetChooserData>
					</TurretSettings>
				</WeaponSlotTurret>
				<WeaponSlotTurret
					ID="9">
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipAirborneSeigeCannonWeapon"
						ObjectStatus="TRANSFORMATION_TOGGLE_STATE"
						ForbiddenObjectStatus="WEAPON_UPGRADED_01" />
					<Weapon
						Ordering="PRIMARY_WEAPON"
						Template="JapanFortressShipAirborneSeigeCannonWeaponVeteran"
						ObjectStatus="TRANSFORMATION_TOGGLE_STATE WEAPON_UPGRADED_01" />
					<TurretSettings
						MaxDeflectionClockwise="30d"
						MaxDeflectionAntiClockwise="30d"
						TurretTurnRate="20"
						MinIdleScanTime="0.0s"
						MaxIdleScanTime="0.0s"
						MinIdleScanAngle="0.0"
						MaxIdleScanAngle="0.0"
						AllowsPitch="true"
						MinimumPitch="-20d"
						PitchHeight="70%"
						TurretPitchRate="20"
						NaturalTurretAngle="0d"
						RecenterWhenOutOfTurnRange="true">
						<TurretAITargetChooserData
							CanPickDynamicTargets="true"
							CanAcquireDynamicIfAssignedOutOfRange="false"
							CanPickTargetsOutOfTurretAngle="true"
							IdleScanDelay="0.8s">
						</TurretAITargetChooserData>
					</TurretSettings>
				</WeaponSlotTurret>
			</WeaponSetUpdate>
			<Physics
				id="ModuleTag_Physics" />
				
			<AutoHealBehavior
				id="Upgrade_PassiveHeal"
				InitiallyActive="true"
				HealOnlyIfNotInCombat="false"
				HealOnlyIfNotUnderAttack="false"
				StartHealingDelay="1s"
				HealingAmount="2"
				HealingDelay="0.5s">
			</AutoHealBehavior>		

			<SpecialPower
				id="ModuleTag_TransformModeSpecialPower"
				SpecialPowerTemplate="SpecialPower_JapanFortressShipTransformMode"
				UpdateModuleStartsAttack="true"/>

			<ToggleStatusSpecialAbilityUpdate
				id="ModuleTag_ToggleDesolatorWeaponMode"
				SpecialPowerTemplate="SpecialPower_JapanFortressShipTransformMode"
				Options="RECONSTITUTE_STORED_COMMAND"
				TriggerAttributeModifier="AttributeModifier_JapanFortressShipTransformation"
				AttributeModifierDuration="4s">
				<ToggleState
					LocomotorSet="NORMAL"
					Upgrade="Upgrade_FortressGeoWater"
					EnterStateSound="JAP_Gigafortress_AirToWater_Player">
					<SkirmishAiInfo
						ToggleHint="TOGGLE_DEFAULT"
						Location="Water"
						NeverUseWhenClear="true">
						<StateWeapon
							Weapon="JapanFortressShipMissilePods_Aircraft" />
					</SkirmishAiInfo>
					<!--<ActiveGeometry>ship_geom</ActiveGeometry>-->
				</ToggleState>

				<ToggleState
					ObjectStatus="TRANSFORMATION_TOGGLE_STATE"
					LocomotorSet="SUPERSONIC"
					Upgrade="Upgrade_FortressGeoAir"
					ModelConditions="USER_1"
					EnterStateSound="JAP_Gigafortress_WaterToAir_Player"
					AttributeModifier="AttributeMod_GigaFortressVision_Head">
					<SkirmishAiInfo
						ToggleHint="TOGGLE_TRANSFORM"
						Location="Water">
						<StateWeapon
							Weapon="JapanFortressShipCannonWeapon" />
					</SkirmishAiInfo>
					<!--<ActiveGeometry>air_geom</ActiveGeometry>-->
				</ToggleState>
			</ToggleStatusSpecialAbilityUpdate>
			
			<GeometryUpgrade
				id="ModuleTag_GeometryUpgradeAir"
				ShowGeometry="air_geom"
				HideGeometry="ship_geom">
				<TriggeredBy>Upgrade_FortressGeoAir</TriggeredBy>
			</GeometryUpgrade>
			
			<GeometryUpgrade
				id="ModuleTag_GeometryUpgradeWater"
				ShowGeometry="ship_geom"
				HideGeometry="air_geom">
				<TriggeredBy>Upgrade_FortressGeoWater</TriggeredBy>
			</GeometryUpgrade>
			
			<RemoveUpgradeUpgrade
				id="ModuleTag_RemoveUpgradeAir">
				<TriggeredBy>Upgrade_FortressGeoWater</TriggeredBy>
				<UpgradeToRemove>Upgrade_FortressGeoAir</UpgradeToRemove>
			</RemoveUpgradeUpgrade>
			
			<RemoveUpgradeUpgrade
				id="ModuleTag_RemoveUpgradeWater">
				<TriggeredBy>Upgrade_FortressGeoAir</TriggeredBy>
				<UpgradeToRemove>Upgrade_FortressGeoWater</UpgradeToRemove>
			</RemoveUpgradeUpgrade>
			
			<!-- The Death OCLs -->
			<CreateObjectDie
				id="ModuleTag_ShipCreateObjectDie"
				CreationList="OCL_SeaDeathOCL">
				<DieMuxData
					DeathTypes="ALL"
					ExemptStatus="TRANSFORMATION_TOGGLE_STATE"/>
			</CreateObjectDie>

			<CreateObjectDie
				id="ModuleTag_AirCreateObjectDie"
				CreationList="OCL_AirDeathOCL">
				<DieMuxData
					DeathTypes="ALL"
					RequiredStatus="TRANSFORMATION_TOGGLE_STATE"
					ExemptStatus="OVER_WATER"/>
			</CreateObjectDie>

			<CreateObjectDie
				id="ModuleTag_AirCreateObject_OverWater_Die"
				CreationList="OCL_AirDeath_OverWater_OCL">
				<DieMuxData
					DeathTypes="ALL"
					RequiredStatus="TRANSFORMATION_TOGGLE_STATE OVER_WATER"/>
			</CreateObjectDie>

			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_LargeBuildingDieExplosionRumble" />
				<Event Index="onDeath" FX="FX_Audio_Gigafortress_Die" />
			</FXListBehavior>

			<!-- SweepingLaserOptions="SWEEP_VERTICAL" -->
			<SweepingLaserState
				id="ModuleTag_SweepingLaserState"
				Radius="200"
				LaserId="101" 
				OriginBoneName="CYLINDER01"
				SweepFXList=""
				VeteranSweepFXList=""
				SweepWeapon="JapanFortressShipAirborneSeigeCannonWeapon_SweepingWeapon">
				<LaserEndParticleSystem>JapanPearlLaserHit</LaserEndParticleSystem>
			</SweepingLaserState>

			<SweepingLaserState
				id="ModuleTag_SweepingLaserStateVeteran" 
				Radius="200"
				LaserId="102"
				OriginBoneName="CYLINDER01"
				SweepFXList=""
				VeteranSweepFXList=""
				SweepWeapon="JapanFortressShipAirborneSeigeCannonWeapon_SweepingWeapon_Veteran">
				<LaserEndParticleSystem>JapanPearlLaserHitVet</LaserEndParticleSystem>
			</SweepingLaserState>

			<!-- This include gives this unit the Advanced Missiple Packs upgrade. -->
			<xi:include
				href="DATA:SageXml/Includes/JapanAdvancedMissilePacksUpgrade.xml" />

			<AttributeModifierUpgrade
				id="ModuleTag_JapanNavalPower"
				AttributeModifier="AttributeModifer_JapanNavalPower_JapanFortressShip">
				<TriggeredBy>Upgrade_JapanNavalPower</TriggeredBy>
			</AttributeModifierUpgrade>
			
			<StructureUnpackUpdate
				id="ModuleTag_GenericUnpackUpdate"
				UnpackCompleteSound="JAP_GigaFortress_VoiceCreate" 
				UnpackTime="20.0s"
				OffsetHeightAboveWater="0.0" />
			
			<AttributeModifierAuraUpdate
				id="ModuleTag_AttributeModifierAuraFortressUnpack"
				AttributeModifierName="AttributeModifier_FortressUnpack"
				RefreshDelay="0.5s"
				InitiallyActive="true"
				AllowSelf="true"
				RequiredObjectStatusFlags="UNPACKING">
				<ObjectFilter
					Rule="NONE"
					Relationship="SAME_PLAYER">
					<IncludeThing>JapanFortressShip</IncludeThing>
				</ObjectFilter>
			</AttributeModifierAuraUpdate>
			
			<!-- Enhanced Kamikaze Player Power -->
			<xi:include
				href="DATA:SageXml/Includes/JapanEnhancedKamikazeUpgradeStatus.xml" />
			<xi:include
				href="DATA:SageXml/Includes/JapanEnhancedKamikazeUpgradeDeathWeapon.xml" />
			<!-- -->
			
			<StatusBitsUpgrade
				id="ModuleTag_VeterancyUpgrade"
				StatusToSet="WEAPON_UPGRADED_01">
				<TriggeredBy>Upgrade_Veterancy_HEROIC</TriggeredBy>
			</StatusBitsUpgrade>

			<SquishCollide
				id="SquishCollide"
				UseDirectionCheck="false"
				CrushKillDelay="0.3s" />
		</Behaviors>
		<AI>
			<AIUpdate
				id="ModuleTag_AI"
				AutoAcquireEnemiesWhenIdle="YES"
				StateMachine="UnitAIStateMachine">
				<UnitAITargetChooserData
					CanPickDynamicTargets="false"
					CanChaseAttack="false"/>
			</AIUpdate>
		</AI>
		<Body>
			<ActiveBody
				id="ModuleTag_Body"
				MaxHealth="5000.0"/>
		</Body>
		<ClientBehaviors>
			<ModelConditionAudioLoopClientBehavior id="ModuleTag_ShrunkenVoice">
				<ModelConditionSound Sound="JAP_Gigafortress_VoiceShrunken" RequiredFlags="SHRINK_EFFECT" />
			</ModelConditionAudioLoopClientBehavior>
 			<ModelConditionAudioLoopClientBehavior id="ModuleTag_IdleAndMoveLoops">
 				<ModelConditionSound Sound="JAP_EmperorsPearl_MoveLoopWaterMS" RequiredFlags="OVER_WATER MOVING" ExcludedFlags="DYING USER_1 STRUCTURE_UNPACKING"/>
 				<ModelConditionSound Sound="JAP_EmperorsPearl_MoveLoopMS" RequiredFlags="USER_1 MOVING" ExcludedFlags="DYING STRUCTURE_UNPACKING"/>
 				<ModelConditionSound Sound="JAP_EmperorsPearl_AmbientLoopWater" RequiredFlags="OVER_WATER" ExcludedFlags="MOVING DYING USER_1 STRUCTURE_UNPACKING"/>
 				<ModelConditionSound Sound="JAP_EmperorsPearl_AmbientLoop" RequiredFlags="USER_1" ExcludedFlags="MOVING DYING STRUCTURE_UNPACKING"/>
 				<ModelConditionSound Sound="JAP_EmperorsPearl_TransformAnimation_Loop" RequiredFlags="USER_3" ExcludedFlags="DYING STRUCTURE_UNPACKING"/>
				<ModelConditionSound Sound="JAP_Nanocore_DeployStructureWaterMS" RequiredFlags="STRUCTURE_UNPACKING OVER_WATER"/>
			</ModelConditionAudioLoopClientBehavior>
			<ModelConditionSoundSelectorClientBehavior id="ModuleTag_VoiceAir">
				<Override RequiredFlags="USER_1">
					<AudioArrayVoice>
						<AudioEntry Sound="JAP_GigaFortress_VoiceMoveAir" AudioType="voiceMove" />
						<AudioEntry Sound="JAP_GigaFortress_VoiceSelectAirMS" AudioType="voiceSelect" />
					</AudioArrayVoice>
				</Override>
				<Override RequiredFlags="STRUCTURE_UNPACKING">
					<AudioArrayVoice>
						<AudioEntry Sound="JAP_Nanocore_GigafortressUnpackingSelectMS" AudioType="voiceSelect" />
					</AudioArrayVoice>
				</Override>
			</ModelConditionSoundSelectorClientBehavior>
      <AnimationSoundClientBehavior id="ModuleTag_ASCB">
     <!-- Ground to Air ONCE -->
            <Sound Sound="JAP_EmperorsPearl_Water" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="3" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_1" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="1" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_2" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="58" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_3" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="51" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_4" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="77" /> 
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_5" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="89" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_6" RequiredMC="USER_1" Animation="JUFortressShip_TRANS" Frame="97" />   
     <!-- Air to Ground ONCE_BACKWARDS -->
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_1" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="106" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_2" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="55" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_3" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="77" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_4" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="60" /> 
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_5" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="42" />
            <Sound Sound="JAP_EmperorsPearl_TransformAnimation_6" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="3" />   
            <Sound Sound="JAP_EmperorsPearl_Water" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="3" />       
            <Sound Sound="JAP_EmperorsPearl_TransformToWater_ImpactSplash" RequiredMC="USER_3" Animation="JUFortressShip_TRANS" Frame="3" />                 
      </AnimationSoundClientBehavior>
		</ClientBehaviors>
		<AudioArrayVoice>
			<AudioEntry Sound="JAP_GigaFortress_VoiceAttack" AudioType="voiceAttack" />
			<!-- NOTE: No "voiceCreated" here, because we're doing the creation Voice in the UnitUnpack Module, 
				 since this thing doesn't emerge directly from a production facility
				 <AudioEntry Sound="JAP_GigaFortress_VoiceCreate" AudioType="voiceCreated" /> -->
			<AudioEntry Sound="JAP_GigaFortress_VoiceMove" AudioType="voiceMove" />
			<AudioEntry Sound="JAP_GigaFortress_VoiceMoveAttack" AudioType="voiceAttackAfterMoving" />
			<AudioEntry Sound="JAP_GigaFortress_VoiceRetreat" AudioType="voiceRetreatToCastle" />
			<AudioEntry Sound="JAP_GigaFortress_VoiceSelectMS" AudioType="voiceSelect" />
			<AudioEntry Sound="JAP_GigaFortress_VoiceSelectBattle" AudioType="voiceSelectBattle" />
			<AudioEntry Sound="JAP_GigaFortress_VoiceSelectUnderFire" AudioType="voiceSelectUnderFire" />
		</AudioArrayVoice>
		<AudioArraySound>
			<AudioEntry Sound="JAP_EmperorsPearl_MoveLoop" AudioType="soundMoveLoop" />
			<AudioEntry Sound="JAP_Nanocore_DeployLoop" AudioType="soundUnderConstruction" />
		</AudioArraySound>

	
		<Geometry>
			<PlacementShape
				Type= "CYLINDER"
				MajorRadius = "60.0"
				Height = "5.0" />
      <Shape
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "60.3056"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "10.2223"
            y = "-0.00152206"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "43.1455"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-14.1879"
            y = "28.7887"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "43.1455"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-14.1879"
            y = "-28.4923"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "17.4886"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "15.9177"
            y = "-51.07"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "17.4886"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "15.9177"
            y = "52.0274"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "21.107"
           MinorRadius = "20.5553"
           Height = "34.096"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-1.46658"
            y = "-0.00152206"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "6.33209"
           MinorRadius = "9.86656"
           Height = "57.6223"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-1.46658"
            y = "-0.00152206"
            z = "0.0" />
      </Shape>
      
      <Shape
				Type="CYLINDER"
				Name="air_geom"
				MajorRadius="44.0"
				Height="75.0"
				ContactPointGeneration="INFANTRY" >
        <Offset
          x = "-12.0763"
          y = "0.0"
          z = "5.0" />
      </Shape>
		</Geometry>
		<VisionInfo
			VisionRange="425"
			ShroudClearingRange="500" />
		<CrusherInfo
			id="id_CrusherInfo"
			CrusherLevel="20"
			CrushableLevel="41">
			<ExtraCrushLevels
				CrusherLevel="40"
				CrushableLevel="40"
				ModelConditionMatch="USER_3" />
		</CrusherInfo>
	</GameObject>
	
	<GameObject
		id="JapanFortressDummy"
		Side="Japan"
		EditorSorting="SYSTEM"
		KindOf="STRUCTURE UNATTACKABLE NOT_AUTOACQUIRABLE CAN_NOT_BUILD_ON_LAND CAN_BUILD_ON_WATER CAN_BUILD_ON_DEEP_WATER NOT_SELLABLE"
		RadarPriority="NOT_ON_RADAR"
		PlacementViewAngle="315d"
		EditorName="JapanFortressDummy">
		<GameDependency>
			<RequiredObject>JapanTechStructure</RequiredObject>
			<NeededUpgrade>Upgrade_JapanNavalYardTech3</NeededUpgrade>
		</GameDependency>		
		<ObjectResourceInfo>
			<BuildCost Account="0" Amount="6300"/>
		</ObjectResourceInfo>
		<ArmorSet
			Armor="JapanFortressShipArmor"
			DamageFX="VehicleDamageFX" />
		<SkirmishAIInformation
			BaseBuildingLocation="FRONT">
			<ConstructionBaseSelectionCriteria
				ExcludedBaseTypes="NO_BUILD_RADIUS CAPTURED" />
		</SkirmishAIInformation>
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw"
				OkToChangeModelColor="true">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="JUEgg_Unpack" />
				</ModelConditionState>
				
				<ModelConditionState
					ParseCondStateType="PARSE_NORMAL"
					ConditionsYes="BUILD_PLACEMENT_CURSOR">
					<Model
						Name="JUFortressShip_SKN" />
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			
			<CreateObjectDie
				id="ModuleTag_CreateObjectDie"
				CreationList="OCL_FortressReplace">
				<DieMuxData
					DeathTypes="ALL" />
			</CreateObjectDie>
			
			<LifetimeUpdate
				id="ModuleTag_LifeTime" />
		</Behaviors>
		<AI>
			<AIUpdate
				id="ModuleTag_AIUpdate"
				AutoAcquireEnemiesWhenIdle="NO"
				StateMachine="StructureAIStateMachine" />
		</AI>
		<Body>
			<ActiveBody
				id="ModuleTag_Body"
				MaxHealth="5000.0"/>
		</Body>
		<Geometry>
			<PlacementShape
				Type= "CYLINDER"
				MajorRadius = "60.0"
				Height = "5.0" />
      <Shape
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "60.3056"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "10.2223"
            y = "-0.00152206"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "43.1455"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-14.1879"
            y = "28.7887"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "43.1455"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-14.1879"
            y = "-28.4923"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "17.4886"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "15.9177"
            y = "-51.07"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "17.4886"
           MinorRadius = "13.8887"
           Height = "12.0481"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "15.9177"
            y = "52.0274"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "21.107"
           MinorRadius = "20.5553"
           Height = "34.096"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-1.46658"
            y = "-0.00152206"
            z = "0.0" />
      </Shape>
      <Shape 
           Type= "BOX"
           Name="ship_geom" 
           MajorRadius = "6.33209"
           MinorRadius = "9.86656"
           Height = "57.6223"
           ContactPointGeneration = "VEHICLE" >
        <Offset
            x = "-1.46658"
            y = "-0.00152206"
            z = "0.0" />
      </Shape>
      
      <Shape
				Type="CYLINDER"
				Name="air_geom"
				MajorRadius="44.0"
				Height="75.0"
				ContactPointGeneration="INFANTRY" >
        <Offset
          x = "-12.0763"
          y = "0.0"
          z = "5.0" />
      </Shape>
		</Geometry>
	</GameObject>
	
	<GameObject
		id="JapanFortressShip_Collapse"
		inheritFrom="BaseCollapsingObject"
		EditorName="JapanFortressShip_Collapse"
		Description="Desc:JapanFortressShip_Collapse">
    <Draws>
      <DynamicsDraw 
			id="ModuleTag_Draw" 
			Collision="INTERCOLLIDING"
			FlingPerturbation="30"
			Explodiness="4" >
        <ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="JUFortressShip_COL" />
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
          <xi:include
            href="DATA:SageXml/Includes/VehicleCollapseParticles/JapanVehicleCollapseParticles.xml"
            xpointer="xmlns(n=uri:ea.com:eala:asset) xpointer(/n:JapanVehicleCollapseParticles/child::*)" />

          <!-- Main Hull -->
          <ParticleSysBone
            BoneName="Bone_D_01"
            FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlash"
            FollowBone="true" />
          <ParticleSysBone
            BoneName="Bone_D_01"
            FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlashLight"
            FollowBone="true" />
          <ParticleSysBone
            BoneName="Bone_D_01"
            FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterBubbles"
            FollowBone="true"
            OnlyIfOnWater="true"/>
        </ModelConditionState>

        <BoneVolumes>

          <BoneVolume BoneName="Bone_D_01" Mass="28491" Spinniness="0.35" ContactTag="DEBRIS" LinearDrag="0.35">
            <Box  HalfSizeX="15.973" HalfSizeY="31.0" HalfSizeZ="2.877" >
              <Translation x="20.948" y="-0.308" z="5.824" />
              <Rotation x="0.0" y="0.0" z="-0.707107" w="0.707107" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_02" Mass="1538" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="9.119" HalfSizeY="2.904" HalfSizeZ="2.904" >
              <Translation x="22.521" y="50.238" z="8.099" />
              <Rotation x="-0.706676" y="0.0246777" z="-0.0246777" w="0.706676" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_03" Mass="1412" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="9.103" HalfSizeY="2.785" HalfSizeZ="2.785" >
              <Translation x="-36.47" y="31.025" z="8.099" />
              <Rotation x="-0.707107" y="0.0" z="0.0" w="0.707107" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_04" Mass="740" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="1.679" HalfSizeY="3.974" HalfSizeZ="5.546" >
              <Translation x="14.195" y="28.655" z="6.745" />
              <Rotation x="-0.69934" y="0.104517" z="-0.104517" w="0.69934" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_05" Mass="1413" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="9.107" HalfSizeY="2.786" HalfSizeZ="2.786" >
              <Translation x="22.538" y="-50.191" z="8.099" />
              <Rotation x="-0.706864" y="-0.0185099" z="0.0185099" w="0.706864" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_06" Mass="1228" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="2.318" HalfSizeY="3.296" HalfSizeZ="8.04" >
              <Translation x="11.423" y="-8.881" z="26.466" />
              <Rotation x="-0.805472" y="0.215826" z="-0.142852" w="0.53313" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_07" Mass="9166" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="6.376" HalfSizeY="5.016" HalfSizeZ="14.331" >
              <Translation x="-3.655" y="0.534" z="48.373" />
              <Rotation x="0.0" y="0.0" z="-0.75471" w="0.656059" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_08" Mass="25606" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="14.226" HalfSizeY="18.53" HalfSizeZ="4.857" >
              <Translation x="11.631" y="-40.084" z="0.228" />
              <Rotation x="-0.00853578" y="0.00181434" z="0.0523339" w="0.998591" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_09" Mass="878" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="4.625" HalfSizeY="2.43" HalfSizeZ="3.91" >
              <Translation x="16.515" y="-12.35" z="11.79" />
              <Rotation x="-0.216007" y="-0.676738" z="-0.246072" w="0.659405" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_10" Mass="1140" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="3.278" HalfSizeY="3.589" HalfSizeZ="4.845" >
              <Translation x="-7.266" y="20.582" z="11.79" />
              <Rotation x="-0.0059867" y="-0.0102192" z="0.119889" w="0.992717" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_11" Mass="15109" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="11.467" HalfSizeY="8.694" HalfSizeZ="7.578" >
              <Translation x="-26.78" y="-0.996" z="9.887" />
              <Rotation x="-0.659548" y="-0.25037" z="-0.251101" w="0.662767" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_12" Mass="15500" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="17.727" HalfSizeY="4.351" HalfSizeZ="10.048" >
              <Translation x="-32.574" y="25.252" z="0.228" />
              <Rotation x="-0.666548" y="0.236037" z="-0.236037" w="0.666548" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_13" Mass="920" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="3.231" HalfSizeY="2.633" HalfSizeZ="5.412" >
              <Translation x="4.076" y="-31.941" z="6.745" />
              <Rotation x="-0.691206" y="-0.137089" z="0.141998" w="0.695182" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_14" Mass="1044" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="2.485" HalfSizeY="2.101" HalfSizeZ="9.999" >
              <Translation x="11.423" y="11.192" z="27.786" />
              <Rotation x="-0.113259" y="-0.439081" z="-0.724075" w="0.519707" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_15" Mass="3100" Spinniness="3.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="5.039" HalfSizeY="7.534" HalfSizeZ="4.084" >
              <Translation x="-35.768" y="0.0" z="-14.781" />
              <Rotation x="-0.712255" y="0.00336067" z="0.00336064" w="0.701905" />
            </Box>
          </BoneVolume>

        </BoneVolumes>
        <Lifetime
          Delay="5s"
          FadeTime="4s" />
      </DynamicsDraw>
    </Draws>

    <!--    
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw"
				OkToChangeModelColor="true">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="JUFortressShip" />

					<xi:include
						href="DATA:SageXml/Includes/VehicleCollapseParticles/JapanVehicleCollapseParticles.xml"
						xpointer="xmlns(n=uri:ea.com:eala:asset) xpointer(/n:JapanVehicleCollapseParticles/child::*)" />

					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlash"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlashLight"
						FollowBone="true" />
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
-->

		<Behaviors>
			<LifetimeUpdate
				id="ModuleTag_LifeTime"
				MinLifetime="1s"
				MaxLifetime="1s" />
			<SlowDeath
				id="ModuleTag_Death"
				SinkDelay="0s"
				SinkRate="3.0"
				DestructionDelay="10.0s">
				<DieMuxData
					DeathTypes="ALL" />
			</SlowDeath>
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanVehicleDie" />
			</FXListBehavior>

		</Behaviors>
		<Body>
			<PropBody
				id="ModuleTag_PropBody" />
		</Body>
		<AudioArraySound>
			<AudioEntry Sound="RA3VehicleExplosionMediumNoDelay" AudioType="soundAmbient" />
		</AudioArraySound>
	</GameObject>
	
	<GameObject
		id="JapanFortressShipAirborne_Collapse"
		inheritFrom="BaseCollapsingObject"
		EditorName="JapanFortressShipAirborne_Collapse"
		Description="Desc:JapanFortressShipAirborne_Collapse">
    <Draws>
      <DynamicsDraw 
			id="ModuleTag_Draw" 
			Collision="INTERCOLLIDING"
			FlingPerturbation="20"
			Explodiness="3.0" >
        <ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="JUFortressShipHead_COL" />
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
          <xi:include
            href="DATA:SageXml/Includes/VehicleCollapseParticles/JapanVehicleCollapseParticles.xml"
            xpointer="xmlns(n=uri:ea.com:eala:asset) xpointer(/n:JapanVehicleCollapseParticles/child::*)" />

          <ParticleSysBone
            BoneName="FX_Weapon_GunA_01"
            FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlash"
            FollowBone="true" />
          <ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlashLight"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>
        </ModelConditionState>

        <BoneVolumes>

          <BoneVolume BoneName="Bone_D_01" Mass="88230" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="6.413" HalfSizeY="4.805" HalfSizeZ="14.317" >
              <Translation x="2.24" y="0.0" z="86.813" />
              <Rotation x="0.0" y="0.0" z="-0.66262" w="0.748956" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_02" Mass="333430" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="19.98" HalfSizeY="6.096" HalfSizeZ="13.688" >
              <Translation x="-23.942" y="29.297" z="44.638" />
              <Rotation x="0.169986" y="0.0128038" z="-0.0378433" w="0.984636" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_03" Mass="304080" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="22.845" HalfSizeY="8.158" HalfSizeZ="8.158" >
              <Translation x="-28.181" y="0.0" z="64.148" />
              <Rotation x="-0.701836" y="0.0861746" z="-0.0861746" w="0.701836" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_04" Mass="316670" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="19.443" HalfSizeY="5.463" HalfSizeZ="14.907" >
              <Translation x="-23.945" y="-29.295" z="44.638" />
              <Rotation x="-0.157281" y="-0.00491248" z="-0.0747598" w="0.984708" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_05" Mass="174290" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="22.7" HalfSizeY="6.196" HalfSizeZ="6.196" >
              <Translation x="-57.203" y="0.001" z="34.972" />
              <Rotation x="-0.705384" y="0.0493253" z="-0.0493253" w="0.705384" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_06" Mass="247520" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="19.901" HalfSizeY="5.35" HalfSizeZ="11.624" >
              <Translation x="-23.41" y="17.722" z="11.176" />
              <Rotation x="-0.470779" y="-0.0220506" z="0.0057503" w="0.881957" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_07" Mass="325140" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="21.726" HalfSizeY="11.56" HalfSizeZ="6.473" >
              <Translation x="-22.933" y="-16.051" z="13.173" />
              <Rotation x="-0.343177" y="0.0698202" z="-0.0734905" w="0.933785" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_08" Mass="53700" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="2.402" HalfSizeY="6.871" HalfSizeZ="16.269" >
              <Translation x="21.399" y="0.0" z="62.712" />
              <Rotation x="-0.696347" y="-0.105184" z="-0.0737646" w="0.706113" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_09" Mass="364380" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="8.936" HalfSizeY="13.939" HalfSizeZ="14.627" >
              <Translation x="7.332" y="0.0" z="55.805" />
              <Rotation x="0.0237156" y="-0.0133457" z="-0.00416357" w="0.999621" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_10" Mass="90370" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="17.718" HalfSizeY="4.543" HalfSizeZ="5.614" >
              <Translation x="1.465" y="0.0" z="2.918" />
              <Rotation x="-0.00871453" y="0.000456709" z="-0.0523339" w="0.998592" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_11" Mass="37900" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="4.714" HalfSizeY="8.237" HalfSizeZ="4.881" >
              <Translation x="24.149" y="0.0" z="30.923" />
              <Rotation x="-0.72999" y="0.0274754" z="-0.0134607" w="0.682773" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_12" Mass="360050" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="9.773" HalfSizeY="11.616" HalfSizeZ="15.858" >
              <Translation x="8.428" y="0.0" z="30.539" />
              <Rotation x="-0.0196334" y="-0.00268999" z="-0.0134251" w="0.999713" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_13" Mass="464600" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="8.252" HalfSizeY="16.852" HalfSizeZ="16.705" >
              <Translation x="-13.891" y="-1.292" z="40.973" />
              <Rotation x="0.00872626" y="-0.00822602" z="0.00291298" w="0.999924" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_14" Mass="24960" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="5.276" HalfSizeY="9.063" HalfSizeZ="2.61" >
              <Translation x="-35.361" y="16.282" z="45.007" />
              <Rotation x="-0.607626" y="0.0484329" z="-0.037164" w="0.791874" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_15" Mass="21900" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="3.05" HalfSizeY="8.111" HalfSizeZ="4.427" >
              <Translation x="-35.491" y="-15.891" z="46.303" />
              <Rotation x="-0.49954" y="0.389348" z="-0.643886" w="0.429277" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_16" Mass="15140" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="7.249" HalfSizeY="3.232" HalfSizeZ="3.232" >
              <Translation x="-31.46" y="-12.819" z="19.542" />
              <Rotation x="-0.89702" y="0.190667" z="-0.12322" w="0.379233" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_17" Mass="11380" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="7.06" HalfSizeY="1.876" HalfSizeZ="4.299" >
              <Translation x="-32.556" y="13.809" z="20.063" />
              <Rotation x="-0.424359" y="-0.254669" z="0.175029" w="0.851133" />
            </Box>
          </BoneVolume>

        </BoneVolumes>
        <Lifetime
          Delay="5s"
          FadeTime="4s" />
      </DynamicsDraw>
    </Draws>    
  
		<Behaviors>
			<LifetimeUpdate
				id="ModuleTag_LifeTime"
				MinLifetime="1s"
				MaxLifetime="1s" />
			<SlowDeath
				id="ModuleTag_SlowDeath"
				SinkDelay="3.0s"
				SinkRate="5.0"
				DestructionDelay="20.0s">
				<DieMuxData
					DeathTypes="ALL" />
			</SlowDeath>
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanVehicleDie" />
			</FXListBehavior>

		</Behaviors>
		<Body>
			<PropBody
				id="ModuleTag_PropBody" />
		</Body>
		<AudioArraySound>
			<AudioEntry Sound="JAP_EmperorsPearl_DieImpactGroundMS" AudioType="soundAmbient" />
		</AudioArraySound>
	</GameObject>
	
	<GameObject
		id="JapanFortressShipAirborne_Dying"
		EditorName="JapanFortressShipAirborne_Dying"
		Description="Desc:JapanFortressShipAirborne_Dying"
		KindOf="PROJECTILE INERT NO_COLLIDE HIDE_IF_FOGGED UNATTACKABLE SELECTABLE">
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw"
				OkToChangeModelColor="true">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="JUFortressShipHead" />
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
          <ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedSparks"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedLight"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionDebrisBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>

					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedSparks"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedLight"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="AlliedCarrierDestructionDebrisBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<Physics
				id="ModuleTag_Physics"
				TumbleRandomly="true"
				MaxXRotationVelocity="0"
				MaxYRotationVelocity="50"
				MaxZRotationVelocity="200"
				KillWhenRestingOnGround="true"/>
			<CreateObjectDie
				id="ModuleTag_CreateObjectDie"
				CreationList="JUFortressShipAirborne_Die_OCL">
				<DieMuxData
					DeathTypes="ALL"/>
			</CreateObjectDie>
      <FireWeaponWhenDead
				id="ModuleTag_JapanFortressShipAirborneDeathWeapon"
				DeathWeapon="JapanFortressShipAirborneDeathWeapon"
				InitiallyActive="true">
				<DieMuxData
					DeathTypes="ALL"
					ExemptStatus="PLAYER_POWER_1"/>
			</FireWeaponWhenDead>

			<!-- Enhanced Kamikaze player power death weapon -->
			<FireWeaponWhenDead
				id="ModuleTag_JapanFortressShipAirborneDeathWeapon_Upgraded"
				DeathWeapon="JapanFortressShipAirborneDeathWeapon_Upgraded"
				InitiallyActive="true">
				<DieMuxData
					DeathTypes="ALL"
					RequiredStatus="PLAYER_POWER_1"/>
			</FireWeaponWhenDead>
			
			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanVehicleDie" />
			</FXListBehavior>
			<!-- Enhanced Kamikaze Player Power -->
			<xi:include
				href="DATA:SageXml/Includes/JapanEnhancedKamikazeUpgradeStatus.xml" />
			<!-- -->

		</Behaviors>
		<Body>
			<PropBody
				id="ModuleTag_PropBody" />
		</Body>
		<AudioArraySound>
			<AudioEntry Sound="JAP_EmperorsPearl_DieStartMS" AudioType="soundAmbient" />
		</AudioArraySound>
		<VisionInfo
			VisionRange="300"
			ShroudClearingRange="300" />
	</GameObject>
	
	<GameObject
		id="JapanFortressShipAirborne_Overwater_Collapse"
		inheritFrom="BaseCollapsingObject"
		EditorName="JapanFortressShipAirborne_Overwater_Collapse"
		Description="Desc:JapanFortressShipAirborne_Overwater_Collapse">
    <Draws>
      <DynamicsDraw 
			id="ModuleTag_Draw" 
			Collision="INTERCOLLIDING"
			FlingPerturbation="50"
			Explodiness="5.0" >
        <ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="JUFortressShipHead_COL" />
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
          <xi:include
            href="DATA:SageXml/Includes/VehicleCollapseParticles/JapanVehicleCollapseParticles.xml"
            xpointer="xmlns(n=uri:ea.com:eala:asset) xpointer(/n:JapanVehicleCollapseParticles/child::*)" />

          <ParticleSysBone
            BoneName="FX_Weapon_GunA_01"
            FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlash"
            FollowBone="true" />
          <ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterFlashLight"
						FollowBone="true" />
          <ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionUnderwaterBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>
        </ModelConditionState>

        <BoneVolumes>

          <BoneVolume BoneName="Bone_D_01" Mass="88230" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="6.413" HalfSizeY="4.805" HalfSizeZ="14.317" >
              <Translation x="2.24" y="0.0" z="86.813" />
              <Rotation x="0.0" y="0.0" z="-0.66262" w="0.748956" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_02" Mass="333430" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="19.98" HalfSizeY="6.096" HalfSizeZ="13.688" >
              <Translation x="-23.942" y="29.297" z="44.638" />
              <Rotation x="0.169986" y="0.0128038" z="-0.0378433" w="0.984636" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_03" Mass="304080" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="22.845" HalfSizeY="8.158" HalfSizeZ="8.158" >
              <Translation x="-28.181" y="0.0" z="64.148" />
              <Rotation x="-0.701836" y="0.0861746" z="-0.0861746" w="0.701836" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_04" Mass="316670" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="19.443" HalfSizeY="5.463" HalfSizeZ="14.907" >
              <Translation x="-23.945" y="-29.295" z="44.638" />
              <Rotation x="-0.157281" y="-0.00491248" z="-0.0747598" w="0.984708" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_05" Mass="174290" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="22.7" HalfSizeY="6.196" HalfSizeZ="6.196" >
              <Translation x="-57.203" y="0.001" z="34.972" />
              <Rotation x="-0.705384" y="0.0493253" z="-0.0493253" w="0.705384" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_06" Mass="247520" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="19.901" HalfSizeY="5.35" HalfSizeZ="11.624" >
              <Translation x="-23.41" y="17.722" z="11.176" />
              <Rotation x="-0.470779" y="-0.0220506" z="0.0057503" w="0.881957" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_07" Mass="325140" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="21.726" HalfSizeY="11.56" HalfSizeZ="6.473" >
              <Translation x="-22.933" y="-16.051" z="13.173" />
              <Rotation x="-0.343177" y="0.0698202" z="-0.0734905" w="0.933785" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_08" Mass="53700" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="2.402" HalfSizeY="6.871" HalfSizeZ="16.269" >
              <Translation x="21.399" y="0.0" z="62.712" />
              <Rotation x="-0.696347" y="-0.105184" z="-0.0737646" w="0.706113" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_09" Mass="364380" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="8.936" HalfSizeY="13.939" HalfSizeZ="14.627" >
              <Translation x="7.332" y="0.0" z="55.805" />
              <Rotation x="0.0237156" y="-0.0133457" z="-0.00416357" w="0.999621" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_10" Mass="90370" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="17.718" HalfSizeY="4.543" HalfSizeZ="5.614" >
              <Translation x="1.465" y="0.0" z="2.918" />
              <Rotation x="-0.00871453" y="0.000456709" z="-0.0523339" w="0.998592" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_11" Mass="37900" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="4.714" HalfSizeY="8.237" HalfSizeZ="4.881" >
              <Translation x="24.149" y="0.0" z="30.923" />
              <Rotation x="-0.72999" y="0.0274754" z="-0.0134607" w="0.682773" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_12" Mass="360050" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="9.773" HalfSizeY="11.616" HalfSizeZ="15.858" >
              <Translation x="8.428" y="0.0" z="30.539" />
              <Rotation x="-0.0196334" y="-0.00268999" z="-0.0134251" w="0.999713" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_13" Mass="464600" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="8.252" HalfSizeY="16.852" HalfSizeZ="16.705" >
              <Translation x="-13.891" y="-1.292" z="40.973" />
              <Rotation x="0.00872626" y="-0.00822602" z="0.00291298" w="0.999924" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_14" Mass="24960" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="5.276" HalfSizeY="9.063" HalfSizeZ="2.61" >
              <Translation x="-35.361" y="16.282" z="45.007" />
              <Rotation x="-0.607626" y="0.0484329" z="-0.037164" w="0.791874" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_15" Mass="21900" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="3.05" HalfSizeY="8.111" HalfSizeZ="4.427" >
              <Translation x="-35.491" y="-15.891" z="46.303" />
              <Rotation x="-0.49954" y="0.389348" z="-0.643886" w="0.429277" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_16" Mass="15140" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="7.249" HalfSizeY="3.232" HalfSizeZ="3.232" >
              <Translation x="-31.46" y="-12.819" z="19.542" />
              <Rotation x="-0.89702" y="0.190667" z="-0.12322" w="0.379233" />
            </Box>
          </BoneVolume>
          <BoneVolume BoneName="Bone_D_17" Mass="11380" Spinniness="2.0" ContactTag="DEBRIS" >
            <Box  HalfSizeX="7.06" HalfSizeY="1.876" HalfSizeZ="4.299" >
              <Translation x="-32.556" y="13.809" z="20.063" />
              <Rotation x="-0.424359" y="-0.254669" z="0.175029" w="0.851133" />
            </Box>
          </BoneVolume>

        </BoneVolumes>
        <Lifetime
          Delay="5s"
          FadeTime="4s" />
      </DynamicsDraw>
    </Draws>    
  
		<Behaviors>
			<LifetimeUpdate
				id="ModuleTag_LifeTime"
				MinLifetime="1s"
				MaxLifetime="1s" />
			<SlowDeath
				id="ModuleTag_SlowDeath"
				SinkDelay="3.0s"
				SinkRate="10.0"
				DestructionDelay="20.0s">
				<DieMuxData
					DeathTypes="ALL" />
			</SlowDeath>
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanVehicleDie" />
			</FXListBehavior>

		</Behaviors>
		<Body>
			<PropBody
				id="ModuleTag_PropBody" />
		</Body>
		<AudioArraySound>
			<AudioEntry Sound="JAP_EmperorsPearl_DieImpactGroundMS" AudioType="soundAmbient" />
		</AudioArraySound>
	</GameObject>
	
	<GameObject
		id="JapanFortressShipAirborne_OverWater_Dying"
		EditorName="JapanFortressShipAirborne_OverWater_Dying"
		Description="Desc:JapanFortressShipAirborne_OverWater_Dying"
		KindOf="PROJECTILE INERT NO_COLLIDE HIDE_IF_FOGGED UNATTACKABLE SELECTABLE">
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw"
				OkToChangeModelColor="true">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="JUFortressShipHead" />
          <Texture
						Original="JUFortressShip"
						New="JUFortressShip_D" />
          <ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedSparks"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="JapanVehicleDamagedLight"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_01"
						FXParticleSystemTemplate="AlliedCarrierDestructionDebrisBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>

					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedFire"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedSparks"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedSmoke"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="JapanVehicleDamagedLight"
						FollowBone="true"
						OnlyIfOnLand="true"/>
					<ParticleSysBone
						BoneName="FX_Weapon_GunA_02"
						FXParticleSystemTemplate="AlliedCarrierDestructionDebrisBubbles"
						FollowBone="true"
						OnlyIfOnWater="true"/>
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<Physics
				id="ModuleTag_Physics"
				TumbleRandomly="true"
				MaxXRotationVelocity="0"
				MaxYRotationVelocity="50"
				MaxZRotationVelocity="200"
				KillWhenRestingOnGround="true"/>
      <CreateObjectDie
				id="ModuleTag_CreateObjectDie_OverWater"
				CreationList="JUFortressShipAirborne_Die_OverWater_OCL">
        <DieMuxData
					DeathTypes="ALL"/>
      </CreateObjectDie>
      <FireWeaponWhenDead
				id="ModuleTag_JapanFortressShipAirborneDeathWeapon"
				DeathWeapon="JapanFortressShipAirborneDeathWeapon"
				InitiallyActive="true">
				<DieMuxData
					DeathTypes="ALL"
					ExemptStatus="PLAYER_POWER_1"/>
			</FireWeaponWhenDead>

			<!-- Enhanced Kamikaze player power death weapon -->
			<FireWeaponWhenDead
				id="ModuleTag_JapanFortressShipAirborneDeathWeapon_Upgraded"
				DeathWeapon="JapanFortressShipAirborneDeathWeapon_Upgraded"
				InitiallyActive="true">
				<DieMuxData
					DeathTypes="ALL"
					RequiredStatus="PLAYER_POWER_1"/>
			</FireWeaponWhenDead>
			
			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanVehicleDie" />
			</FXListBehavior>
			<!-- Enhanced Kamikaze Player Power -->
			<xi:include
				href="DATA:SageXml/Includes/JapanEnhancedKamikazeUpgradeStatus.xml" />
			<!-- -->

		</Behaviors>
		<Body>
			<PropBody
				id="ModuleTag_PropBody" />
		</Body>
		<AudioArraySound>
			<AudioEntry Sound="JAP_EmperorsPearl_DieStartMS" AudioType="soundAmbient" />
		</AudioArraySound>
		<VisionInfo
			VisionRange="300"
			ShroudClearingRange="300" />
	</GameObject>
	
	<GameObject
		id="JapanFortressShipCannonWeaponProjectile"
		inheritFrom="BaseProjectile"
		Side="Japan"
		EditorSorting="SYSTEM"
		KindOf="PROJECTILE NO_COLLIDE HIDE_IF_FOGGED"
		EditorName="JapanFortressShipCannonWeaponProjectile">
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_ScriptedModelDraw">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="FXJapanTankProjectile" />
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<FXListBehavior
				id="ModuleTag_FXList">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanFortressShipCannonProjectileHit" />
			</FXListBehavior>
			<BezierProjectile
				id="ModuleTag_BezierProjectileBehavior"
				Flags="ORIENT_TO_FLIGHT_PATH DETONATE_CALLS_KILL"
				FirstHeightMin="10"
				FirstHeightMax="10"
				SecondHeightMin="10"
				SecondHeightMax="10"
				FirstPercentIndent="33"
				SecondPercentIndent="66"
				GroundHitFX="FX_JapanFortressShipCannonProjectileHit"/>
		</Behaviors>
		<Geometry
			IsSmall="true">
			<Shape
				Type="SPHERE"
				MajorRadius="0.8"></Shape>
		</Geometry>
	</GameObject>

	<GameObject
		id="JapanFortressShipCannonWeaponProjectileVeteran"
		inheritFrom="JapanFortressShipCannonWeaponProjectile"
		EditorName="JapanFortressShipCannonWeaponProjectileVeteran">
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_ScriptedModelDraw"
        xai:joinAction="Replace">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model
						Name="FXJapanTankProjectile_Vet" />
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<FXListBehavior
				id="ModuleTag_FXList"
        xai:joinAction="Replace">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanFortressShipCannonProjectileHit_Vet" />
			</FXListBehavior>
			<BezierProjectile
				id="ModuleTag_BezierProjectileBehavior"
				Flags="ORIENT_TO_FLIGHT_PATH DETONATE_CALLS_KILL"
				FirstHeightMin="10"
				FirstHeightMax="10"
				SecondHeightMin="10"
				SecondHeightMax="10"
				FirstPercentIndent="33"
				SecondPercentIndent="66"
				GroundHitFX="FX_JapanFortressShipCannonProjectileHit_Vet"/>
		</Behaviors>
	</GameObject>
	
	<GameObject
		id="JapanFortressShipMissileProjectile"
		Side="Japan"
		EditorSorting="SYSTEM"
		KindOf="PROJECTILE SMALL_MISSILE DEFLECT_BY_SPECIAL_POWER NO_COLLIDE HIDE_IF_FOGGED"
		EditorName="JapanFortressShipMissileProjectileWarhead">
		<ArmorSet
			Armor="NoArmor" />
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_ScriptedModelDraw">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="EXJapanFortressRocket" />
          <ParticleSysBone
						BoneName="NONE"
						FXParticleSystemTemplate="JapanFortRocketTrail"
						FollowBone="true" />
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<FXListBehavior
				id="ModuleTag_FXLists">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_FortressShip_MissileImpact" />
			</FXListBehavior>
			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			<BezierProjectile
				id="ModuleTag_BezierProjectileBehavior"
				Flags="ORIENT_TO_FLIGHT_PATH DETONATE_CALLS_KILL PING_PONG_SIDEWAYS_DRIFT"
				FirstHeightMin="-20"
				FirstHeightMax="80"
				SecondHeightMin="-20"
				SecondHeightMax="80"
				FirstPercentIndent="0"
				SecondPercentIndent="66"
				GroundHitFX="FX_FortressShip_MissileImpact"
				MaxDistanceReachedFX="FX_FortressShip_MissileImpact"
				SidewaysDrift="100"
				FlightPathAdjustDistPerSecond="100.0"
				MaxDistanceToTravel="600.0"
				/>
		</Behaviors>
		<Body>
			<ActiveBody
				id="ModuleTag_ActiveBody"
				MaxHealth="100.0" />
		</Body>
		<Geometry
			IsSmall="true">
			<Shape
				Type="SPHERE"
				MajorRadius="0.8"></Shape>
		</Geometry>
		<AudioArraySound>
			<AudioEntry Sound="JAP_EmperorsPearl_MissileRocketBy_Whizby" AudioType="soundAmbient" />
		</AudioArraySound>
		<VisionInfo
			VisionRange="0" />
	</GameObject>
	
	<GameObject
		inheritFrom="JapanFortressShipMissileProjectile"
		id="JapanFortressShipMissileProjectile_Veteran"
		EditorName="JapanFortressShipMissileProjectile_Veteran">
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_ScriptedModelDraw"
				xai:joinAction="Replace">
        <ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
          <Model
						Name="EXJapanFortressRocketVet" />
          <ParticleSysBone
						BoneName="NONE"
						FXParticleSystemTemplate="JapanFortRocketTrailVet"
						FollowBone="true" />
        </ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>
			<FXListBehavior
				id="ModuleTag_FXLists"
        xai:joinAction="Replace">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_FortressShip_MissileImpact_Vet" />
			</FXListBehavior>
			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
			<BezierProjectile
				id="ModuleTag_BezierProjectileBehavior"
				xai:joinAction="Replace"
				Flags="ORIENT_TO_FLIGHT_PATH DETONATE_CALLS_KILL PING_PONG_SIDEWAYS_DRIFT"
				FirstHeightMin="30"
				FirstHeightMax="40"
				SecondHeightMin="30"
				SecondHeightMax="40"
				FirstPercentIndent="20"
				SecondPercentIndent="50"
				GroundHitFX="FX_FortressShip_MissileImpact_Vet"
				MaxDistanceReachedFX="FX_FortressShip_MissileImpact_Vet"
				SidewaysDrift="20"
				FlightPathAdjustDistPerSecond="100.0"
				MaxDistanceToTravel="600.0"
				/>
		</Behaviors>
	</GameObject>
	
	<GameObject
		id="JapanFortressShipSeigeCannonNode"
		Side="Japan"
		EditorSorting="SYSTEM"
		TransportSlotCount="0"
		IsTrainable="false"
		KindOf="UNATTACKABLE NOT_AUTOACQUIRABLE NO_COLLIDE INERT SKIRMISH_AI_ATTEMPT_TO_DODGE PASS_EXPERIENCE_TO_PRODUCER"
		EditorName="JapanFortressShipSeigeCannonNode">
		<DisplayName>JapanFortressShipSeigeCannonNode</DisplayName>
		<ArmorSet
			Armor="NoArmor" />
		<SkirmishAIInformation
			DodgeSafetyDistance="50.0">
			<DodgeWithUnits Rule="ALL"
			  StatusBitFlagsExclude="AIRBORNE_TARGET">
			</DodgeWithUnits>
		</SkirmishAIInformation>
		<Draws>
			<ScriptedModelDraw
				id="ModuleTag_Draw">
				<ModelConditionState
					ParseCondStateType="PARSE_DEFAULT">
					<Model Name="" />
				</ModelConditionState>
			</ScriptedModelDraw>
		</Draws>
		<Behaviors>

			<LifetimeUpdate
				id="ModuleTag_LifetimeUpdate"
				MinLifetime="0.75s"
				MaxLifetime="0.75s" />

			<FireWeaponWhenDead
				id="ModuleTag_JapanFortressShipSeigeCannonNodeDeathWeapon"
				DeathWeapon="JapanFortressShipAirborneSeigeCannonWeapon_NodeExplosion"
				InitiallyActive="true">
				<DieMuxData
					DeathTypes="ALL" />
			</FireWeaponWhenDead>

			<DestroyDie
				id="ModuleTag_Die">
				<DieMuxData
					DeathTypes="ALL" />
			</DestroyDie>
        <FXListBehavior
          id="ModuleTag_FXLists">
          <DieMuxData
            DeathTypes="ALL" />
          <Event
            Index="onDeath"
            FX="FX_JapanPearlLaserHit" />
        </FXListBehavior>

		</Behaviors>
		<Body>
			<PropBody
				id="ModuleTag_Body"/>
		</Body>
		<Geometry
			IsSmall="true">
			<Shape
				Type="SPHERE"
				MajorRadius="1.0">
			</Shape>
		</Geometry>
		<ShadowInfo
			Type="NONE" />
		<CrusherInfo
			id="id_CrusherInfo"
			CrushableLevel="0" />
	</GameObject>
	
	<GameObject
		id="JapanFortressShipSeigeCannonNode_Veteran"
		inheritFrom="JapanFortressShipSeigeCannonNode">
		<Behaviors>
			<FXListBehavior
				id="ModuleTag_FXLists"
				xai:joinAction="Replace">
				<DieMuxData
					DeathTypes="ALL" />
				<Event
					Index="onDeath"
					FX="FX_JapanPearlLaserHitVET" />
			</FXListBehavior>
		</Behaviors>
	</GameObject>
</AssetDeclaration>